<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus Agendamentos - Connect+</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="shortcut icon" href="../logo_atendimento.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/cliente-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo"><h1><a href="/static/index.html" style="color: white; text-decoration: none;">Connect+</a></h1></div>
        <nav><ul></ul></nav>
    </header>

    <main class="cliente-panel-container">
        <h2>Meus Agendamentos</h2>

        <div class="panel-tabs">
            <a href="#futuros" class="tab-link active" data-tab-target="#agendamentos-futuros-lista">Próximos Agendamentos</a>
            <a href="#passados" class="tab-link" data-tab-target="#agendamentos-passados-lista">Histórico de Agendamentos</a>
        </div>

        <div id="agendamentos-futuros-lista" class="tab-content active">
            <h3>Próximos</h3>
            <ul class="lista-agendamentos" id="lista-agendamentos-futuros">
                <p class="loading-message">Carregando próximos agendamentos...</p>
            </ul>
        </div>

        <div id="agendamentos-passados-lista" class="tab-content">
            <h3>Histórico</h3>
            <ul class="lista-agendamentos" id="lista-agendamentos-passados">
                 <p class="loading-message">Carregando histórico...</p>
            </ul>
        </div>
    </main>
    
    <!-- Modal para Avaliação -->
    <div id="avaliacao-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-button" id="avaliacao-modal-close">&times;</span>
            <h2>Avaliar Atendimento</h2>
            <p>Atendente: <strong id="avaliacao-atendente-nome"></strong></p>
            <p>Data: <strong id="avaliacao-data-agendamento"></strong></p>
            <form id="avaliacao-form">
                <input type="hidden" id="avaliacao-agendamento-id">
                <input type="hidden" id="avaliacao-atendente-id">
                <div class="form-group">
                    <label>Sua Nota (1 a 5 estrelas):</label>
                    <div class="stars-input">
                        <i class="far fa-star" data-value="1"></i>
                        <i class="far fa-star" data-value="2"></i>
                        <i class="far fa-star" data-value="3"></i>
                        <i class="far fa-star" data-value="4"></i>
                        <i class="far fa-star" data-value="5"></i>
                    </div>
                    <input type="hidden" id="nota-avaliacao" name="nota" required>
                </div>
                <div class="form-group">
                    <label for="comentario-avaliacao">Seu Comentário (opcional):</label>
                    <textarea id="comentario-avaliacao" name="comentario" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <input type="checkbox" id="avaliacao-anonima" name="anonima" value="true">
                    <label for="avaliacao-anonima" class="checkbox-label"> Enviar avaliação como anônima</label>
                </div>
                <button type="submit" class="action-button">Enviar Avaliação</button>
            </form>
        </div>
    </div>


    <footer>
        <div class="footer-bottom"><p>&copy; <span id="currentYearFooterAgendamentos"></span> Connect+.</p></div>
    </footer>
    <script src="../js/authManager.js"></script>
    <script src="../js/meus-agendamentos-script.js"></script>
</body>
</html>